function $(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function z(e){return $(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const V="2.10.3",Te=e=>e,Ue=e=>e,X=()=>`viem@${V}`;class f extends Error{constructor(t,n={}){var s;super(),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ViemError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:X()});const r=n.cause instanceof f?n.cause.details:(s=n.cause)!=null&&s.message?n.cause.message:n.details,i=n.cause instanceof f&&n.cause.docsPath||n.docsPath;this.message=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: https://viem.sh${i}${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=t}walk(t){return k(this,t)}}function k(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e?k(e.cause,t):t?null:e}class Pe extends f{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${r}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SliceOffsetOutOfBoundsError"})}}class L extends f{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeExceedsPaddingSizeError"})}}class He extends f{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${t} ${r} long.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidBytesLengthError"})}}function d(e,{dir:t,size:n=32}={}){return typeof e=="string"?D(e,{dir:t,size:n}):q(e,{dir:t,size:n})}function D(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new L({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function q(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new L({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const s=t==="right";r[s?i:n-i-1]=e[s?i:e.length-i-1]}return r}class G extends f{constructor({max:t,min:n,signed:r,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntegerOutOfRangeError"})}}class je extends f{constructor(t){super(`Bytes value "${t}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidBytesBooleanError"})}}class W extends f{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeOverflowError"})}}function b(e,{size:t}){if(z(e)>t)throw new W({givenSize:z(e),maxSize:t})}function K(e,t={}){const{signed:n}=t;t.size&&b(e,{size:t.size});const r=BigInt(e);if(!n)return r;const i=(e.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return r<=s?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function ve(e,t={}){return Number(K(e,t))}const J=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Q(e,t={}){return typeof e=="number"||typeof e=="bigint"?U(e,t):typeof e=="string"?ee(e,t):typeof e=="boolean"?Y(e,t):T(e,t)}function Y(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(b(n,{size:t.size}),d(n,{size:t.size})):n}function T(e,t={}){let n="";for(let i=0;i<e.length;i++)n+=J[e[i]];const r=`0x${n}`;return typeof t.size=="number"?(b(r,{size:t.size}),d(r,{dir:"right",size:t.size})):r}function U(e,t={}){const{signed:n,size:r}=t,i=BigInt(e);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<o){const c=typeof e=="bigint"?"n":"";throw new G({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${e}${c}`})}const u=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?d(u,{size:r}):u}const Z=new TextEncoder;function ee(e,t={}){const n=Z.encode(e);return T(n,t)}const te=new TextEncoder;function ne(e,t={}){return typeof e=="number"||typeof e=="bigint"?ie(e,t):typeof e=="boolean"?re(e,t):$(e)?P(e,t):H(e,t)}function re(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(b(n,{size:t.size}),d(n,{size:t.size})):n}const a={zero:48,nine:57,A:65,F:70,a:97,f:102};function B(e){if(e>=a.zero&&e<=a.nine)return e-a.zero;if(e>=a.A&&e<=a.F)return e-(a.A-10);if(e>=a.a&&e<=a.f)return e-(a.a-10)}function P(e,t={}){let n=e;t.size&&(b(n,{size:t.size}),n=d(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,s=new Uint8Array(i);for(let o=0,u=0;o<i;o++){const c=B(r.charCodeAt(u++)),l=B(r.charCodeAt(u++));if(c===void 0||l===void 0)throw new f(`Invalid byte sequence ("${r[u-2]}${r[u-1]}" in "${r}").`);s[o]=c*16+l}return s}function ie(e,t){const n=U(e,t);return P(n)}function H(e,t={}){const n=te.encode(e);return typeof t.size=="number"?(b(n,{size:t.size}),d(n,{dir:"right",size:t.size})):n}function w(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function j(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function Ce(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");w(e.outputLen),w(e.blockLen)}function E(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function se(e,t){j(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const y=BigInt(2**32-1),O=BigInt(32);function oe(e,t=!1){return t?{h:Number(e&y),l:Number(e>>O&y)}:{h:Number(e>>O&y)|0,l:Number(e&y)|0}}function ue(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=oe(e[i],t);[n[i],r[i]]=[s,o]}return[n,r]}const ce=(e,t,n)=>e<<n|t>>>32-n,fe=(e,t,n)=>t<<n|e>>>32-n,ae=(e,t,n)=>t<<n-32|e>>>64-n,le=(e,t,n)=>e<<n-32|t>>>64-n,x=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const v=e=>e instanceof Uint8Array,he=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),Me=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),_e=(e,t)=>e<<32-t|e>>>t,de=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!de)throw new Error("Non little-endian hardware is not supported");function be(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function C(e){if(typeof e=="string"&&(e=be(e)),!v(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function Ne(...e){const t=new Uint8Array(e.reduce((r,i)=>r+i.length,0));let n=0;return e.forEach(r=>{if(!v(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}class ge{clone(){return this._cloneInto()}}function pe(e){const t=r=>e().update(C(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Fe(e=32){if(x&&typeof x.getRandomValues=="function")return x.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}const[M,_,N]=[[],[],[]],ye=BigInt(0),g=BigInt(1),we=BigInt(2),xe=BigInt(7),me=BigInt(256),$e=BigInt(113);for(let e=0,t=g,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],M.push(2*(5*r+n)),_.push((e+1)*(e+2)/2%64);let i=ye;for(let s=0;s<7;s++)t=(t<<g^(t>>xe)*$e)%me,t&we&&(i^=g<<(g<<BigInt(s))-g);N.push(i)}const[Ae,ze]=ue(N,!0),I=(e,t,n)=>n>32?ae(e,t,n):ce(e,t,n),S=(e,t,n)=>n>32?le(e,t,n):fe(e,t,n);function Be(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let o=0;o<10;o++)n[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const u=(o+8)%10,c=(o+2)%10,l=n[c],h=n[c+1],F=I(l,h,1)^n[u],R=S(l,h,1)^n[u+1];for(let p=0;p<50;p+=10)e[o+p]^=F,e[o+p+1]^=R}let i=e[2],s=e[3];for(let o=0;o<24;o++){const u=_[o],c=I(i,s,u),l=S(i,s,u),h=M[o];i=e[h],s=e[h+1],e[h]=c,e[h+1]=l}for(let o=0;o<50;o+=10){for(let u=0;u<10;u++)n[u]=e[o+u];for(let u=0;u<10;u++)e[o+u]^=~n[(u+2)%10]&n[(u+4)%10]}e[0]^=Ae[r],e[1]^=ze[r]}n.fill(0)}class A extends ge{constructor(t,n,r,i=!1,s=24){if(super(),this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,w(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=he(this.state)}keccak(){Be(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){E(this);const{blockLen:n,state:r}=this;t=C(t);const i=t.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let u=0;u<o;u++)r[this.pos++]^=t[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:i}=this;t[r]^=n,n&128&&r===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){E(this,!1),j(t),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=t.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);t.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return w(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(se(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return t||(t=new A(n,r,i,o,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=r,t.outputLen=i,t.enableXOF=o,t.destroyed=this.destroyed,t}}const Ee=(e,t,n)=>pe(()=>new A(t,e,n)),Oe=Ee(1,136,256/8);function Ie(e,t){const n=t||"hex",r=Oe($(e,{strict:!1})?ne(e):e);return n==="bytes"?r:Q(r)}class Se extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}set(t,n){return super.set(t,n),this.maxSize&&this.size>this.maxSize&&this.delete(this.keys().next().value),this}}function ke(e,t){const n=t?`${t}${e.toLowerCase()}`:e.substring(2).toLowerCase(),r=Ie(H(n),"bytes"),i=(t?n.substring(`${t}0x`.length):n).split("");for(let s=0;s<40;s+=2)r[s>>1]>>4>=8&&i[s]&&(i[s]=i[s].toUpperCase()),(r[s>>1]&15)>=8&&i[s+1]&&(i[s+1]=i[s+1].toUpperCase());return`0x${i.join("")}`}const Le=/^0x[a-fA-F0-9]{40}$/,m=new Se(8192);function Re(e,t){const{strict:n=!0}=t??{};if(m.has(e))return m.get(e);const r=Le.test(e)?e.toLowerCase()===e?!0:n?ke(e)===e:!0:!1;return m.set(e,r),r}export{Ce as A,f as B,j as C,Ne as D,Fe as E,d as F,ge as H,je as I,Pe as S,Re as a,Y as b,ee as c,b as d,T as e,ve as f,P as g,K as h,$ as i,ke as j,Ie as k,Te as l,Ue as m,U as n,Me as o,D as p,E as q,C as r,z as s,ne as t,se as u,_e as v,pe as w,Q as x,He as y,H as z};
